"""
setup.py file for bgsubcnt
"""

from distutils.core import setup, Extension
import numpy as np

bgsubcnt_module = Extension('_bgsubcnt',
                           swig_opts=['-c++', '-builtin', '-I@CMAKE_CURRENT_SOURCE_DIR_NATIVE@'],
                           sources=['@CMAKE_CURRENT_SOURCE_DIR_NATIVE@/opencv_swig_python.cpp', '@CMAKE_CURRENT_SOURCE_DIR_NATIVE@/bgsubcnt.i', '@BGSUBCNT_INCLUDE_DIR_NATIVE@/bgsubcnt.cpp'],
			   include_dirs=['@BGSUBCNT_INCLUDE_DIR_NATIVE@', np.get_include(), '@_OPENCV_INCLUDE_DIR_NATIVE@'],
			   library_dirs=['@_OPENCV_LIB_DIR_NATIVE@'],
			   libraries=['opencv_core']
                           )

setup (name        = 'bgsubcnt',
       version     = '${CPACK_PACKAGE_VERSION}',
       package_dir = {'': '@CMAKE_CURRENT_SOURCE_DIR_NATIVE@'},
       author      = "Sagi Zeevi (theimpossiblecode.com)",
       url         = 'https://github.com/sagi-z/BackgroundSubtractorCNT',
       description = 'BackgroundSubtractorCNT python API',
       license     = '3-clause BSD',
       ext_modules = [bgsubcnt_module],
       py_modules  = ["bgsubcnt"],
       requires    = ["numpy", "cv2"]
       )
